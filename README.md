# Задание "EEPROM"

## Разбор прилагаемой библиотеки

К документации прилагается архив с минимумом, позволяющим работать с **EEPROM**. В папке **Src** лежат исходники на С, в **Inc** — заголовочные файлы.

- **main.c** — пример программы, вызывающую функцию проверки EEPROM и собственно предложенных операций над ней. В основном она была сгенерирована программой STM32CubeMX.
- **main.h** — заголовочный файл **STM32CubeMX**, содержащий некоторые дефайны, необходимые для работы main.c.
- **i2c_common.h, i2c_common.c** — пример библиотеки для работы с шиной I2C, включающий абстракцию для любого устройства, работающего на I2C.
- **i2c_eeprom.h, i2c_eeprom.c** — пример библиотеки для работы с EEPROM, использующий выше предложенную абстракцию.

**i2c_eeprom.h** также предоставляет функцию **EE_TEST()**. Ее предусловия:

- EEPROM — 24LC02;
- SCL и SDA подключены к пинам, которые использует I2C1;
- WP подключен к PB5;
- A0-2 заземлены.

Собственно, функция последовательно проверяет:

- побайтово (запись + чтение для проверки);
- постранично (запись + чтение для проверки);
- чтением «текущего адреса» начиная с первого байта для проверки;

и возвращает количество ошибок (несовпадений того, что записали, и того, что прочитали).

Рекомендую *самостоятельно* разобраться с собственно реализацией функционала, так как это поможет закрепить принципы работы как с I2C, так и с EEPROM.









Зиновчик Олег, ФРТК 2019

Версия β0.2
